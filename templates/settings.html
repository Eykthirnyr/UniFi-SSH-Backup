{% extends 'layout.html' %}
{% block content %}
<h1 class="mb-3">Settings</h1>
<form method="post">
  <div class="mb-3">
    <label class="form-label">Console IP</label>
    <input class="form-control" name="ip" value="{{ config.ip }}">
  </div>
  <div class="mb-3">
    <label class="form-label">SSH Port</label>
    <input class="form-control" name="ssh_port" value="{{ config.ssh_port }}">
  </div>
  <div class="mb-3">
    <label class="form-label">SSH User</label>
    <input class="form-control" name="ssh_user" value="{{ config.ssh_user }}">
  </div>
  <div class="mb-3">
    <label class="form-label">SSH Password</label>
    <input class="form-control" type="password" name="ssh_pass" value="{{ config.ssh_pass }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Backup Time (HH:MM)</label>
    <input class="form-control" name="backup_time" value="{{ config.backup_time }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Time Zone</label>
    <input class="form-control" name="timezone" value="{{ config.timezone }}">
  </div>
  <h2>SMTP</h2>
  <div class="mb-3">
    <label class="form-label">SMTP Host</label>
    <input class="form-control" name="smtp_host" value="{{ config.smtp_host }}">
  </div>
  <div class="mb-3">
    <label class="form-label">SMTP Port</label>
    <input class="form-control" name="smtp_port" value="{{ config.smtp_port }}">
  </div>
  <div class="mb-3">
    <label class="form-label">SMTP User</label>
    <input class="form-control" name="smtp_user" value="{{ config.smtp_user }}">
  </div>
  <div class="mb-3">
    <label class="form-label">SMTP Password</label>
    <input class="form-control" type="password" name="smtp_pass" value="{{ config.smtp_pass }}">
  </div>
  <div class="mb-3">
    <label class="form-label">From Email</label>
    <input class="form-control" name="smtp_from" value="{{ config.smtp_from }}">
  </div>
  <div class="mb-3">
    <label class="form-label">To Email</label>
    <input class="form-control" name="smtp_to" value="{{ config.smtp_to }}">
  </div>
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" name="smtp_tls" {% if config.smtp_tls %}checked{% endif %}>
    <label class="form-check-label">Use TLS</label>
  </div>
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" name="send_report" {% if config.send_report %}checked{% endif %}>
    <label class="form-check-label">Send Daily Report</label>
  </div>
  <div class="mb-3">
    <label class="form-label">Client Name</label>
    <input class="form-control" name="client_name" value="{{ config.client_name }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Web Port</label>
    <input class="form-control" name="web_port" value="{{ config.web_port }}">
  </div>
  <button class="btn btn-primary mb-3" type="submit">Save</button>
</form>
<form method="post" action="/test_email" class="mb-3">
  <button class="btn btn-secondary" type="submit">Send Test Email</button>
</form>
<a class="btn btn-secondary mb-5" href="/logs/latest">Download Latest Log</a>
{% endblock %}
